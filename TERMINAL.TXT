

                           NµVOD K PROGRAMU TERMINAL
                         =============================


Tento program byl naps n pro vyu§it¡ s‚riovìch port… (COM).
Nastaven¡ parametr… portu se prov d¡ pı¡mo, tzn. pı¡mìm z pisem
na adresy port… ulo§enìch na adres ch PromØnnìch ROM-BIOSu:

Adresa  Bytu Obsah
ßßßßßßß ßßßß ßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßß
0:0400    2  Adresa portu prvn¡ho RS-232 adapt‚ru (COM1)
0:0402    2  Port COM2
0:0404    2  Port COM3
0:0406    2  Port COM4
0:0408    2  Adresa portu prvn¡ paraleln¡ tisk rny (LPT1)
0:040A    2  Port LPT2
0:040C    2  Port LPT3
0:040E    2  Port LPT4


Vìhodou tohoto zp…sobu ovl dan¡ portu je, §e lze nastavit vetçinu
parametr… portu, kter‚ nejsou jinak DOSovìm aplikac¡m pı¡stupn‚.


Ne§ douc¡m d…sledkem tohoto nastavov n¡ je obŸas konfliktn¡
komunikace pod Windows32 (viz kap. 2).
Je to zp…sobeno t¡m, §e Terminal si nastav¡ parametry portu kter‚
Windows nenastavuj¡ a to zp…sob¡, §e Windows pak nejsou schopny
si port spr vnØ nastavit.



                                      1
                                NµVOD K POU¦ITÖ
------------------------------------------------------------------------------

                                     1.2
                                  Nastaven¡
                                 -----------

Nastaven¡ portu je pı¡stupn‚ v hlavn¡m menu pod polo§kou "Nastaveni".
M…§ete zde nastavit r…zn‚ parametry komunikace:
"Port" zde si m…§ete zvolit komunikaŸn¡ port. Port COM5 nen¡ skuteŸnì,
ale m…§ete jej stiskem kl vesy F4 nastavit na libovolnou adresu.
Po vìbØru portu je port inicializov n, tak§e pokud se objev¡ hl çen¡:
              "Port XXX na adrese AAA nelze inicializovat"
znamen  to §e adresa portu je nastavena na 0h,
a port s nejvetç¡ pravdØpodobnost¡ nen¡ pıipojen. M…§e ale nastat pı¡pad,
kdy je v poŸ¡taŸi na ISA sbØrnici pı¡tomen intern¡ modem. Tyto modemy
standardnØ emuluj¡ s‚riovì port, podm¡nkou vçak je aby byla adresa tohoto
emulovan‚ho portu zaps na v promØnnìch BIOSu. To lze zjistit v tabulce
postu: v tabulce zaı¡zen¡, kde je vìpis COM port… se objev¡ dalç¡ adresa portu
( standardne COM3 nebo COM4 ). Pokud se takto nestane, bude port v poŸ¡taŸi
pı¡tomen, ale pro vØtçinu DOSovìch aplikac¡ "neviditelnì", proto§e jeho adresa
v promØnnìch BIOSu bude nastavena na 0h. Windows by mØly modem naj¡t ale adresu
portu modemu stejnØ nenastav¡. Ke "zpı¡stupnØn¡" portu modemu m…§ete pou§¡t u
Termin lu parametr /F, nebo zmenit v nastaven¡ polo§ku "Adresy portu" na
hodnotu "Pevn‚". To zp…sob¡, §e Termin l nebude zjiçœovat adresy port… z
promØnnìch BIOSu, ale dosad¡ si vlastn¡ - pevn‚ adresy (tzn. COM1=3F8,
COM2=2F8, COM3=3E8, COM4=2E8).

Dalç¡m nastaven¡m je "Rychlost portu", k tomuto snad nen¡ co dod vat,
m…§ete nastavit vçechny mo§n‚ rychlosti portu, kter‚ samotnì port
podporuje: od 150 do 153600 Bd.

"Nastaveni portu" zde m…§ete nastavit parametry portu jako je poŸet
stop-bit… (1..2), parita (§ dn , sud , lich , v§dy 0, v§dy 1),
d‚lka slova (5..8 bit…).

"Potlacit znaky" toto nastaven¡ zamez¡ v Ascii vìpisu zobrazov n¡ znak…
jako je napı. 07 (bell) - nedojde k nepı¡jemn‚mu p¡p n¡ PC speakeru,
08 (Backspace) - nesma§ou se v m pıedchoz¡ pıijatì znak,
0Dh zabr n¡ n vratu kurzoru na zaŸ tek ı dku, 0Ah zabr n¡ posunu kurzoru
na dalç¡ ı dek. M¡sto potlaŸen‚ho znaku se zobraz¡ jen "neçkodn " mezera.

"Bitova maska" - pıi pıijmut¡ znaku je nejdı¡ve provedena logick  funkce AND
s t¡mto bytem, a pak je teprve znak d le zpracov v n.

"Delay pro Ascii/HEX" nastaven¡ minim ln¡ doby mezi odesl n¡m jednotlivìch
znak… v Ascii/HEX m¢du pıi odes¡l n¡ znak… z bufferu.

"Adresy portu" - UrŸuje, zda jsou adresy portu naŸteny z promØnnìch BIOSu,
nebo jsou dosazeny konstantn¡ hodnoty

"Ukoncovaci dialog" - Jestli§e je nastaveno zobrazovat, je pıed ukonŸen¡m
programu zobrazen potvrzovac¡ dialog, zda chcete program opravdu ukonŸit.


                                    1.3
                                  Utility
                                 ---------
V tomto menu jsou na vìbØr nØkter‚ pom…cky pro komunikaci.
( Vysilat nepretrzite, Zobrazuj nepretrzite, Zobrazuj prijate znaky )


"Vysilat nepretrzite"
-------------------
Pos¡l  neust le na port vybranì znak (00h, 07h, FFh, RND, P40h) aktu ln¡
rychlost¡ portu, bez Ÿek n¡, tzn. bez ohledu na hodnotu parametru Delay.
Pozastavit vys¡l n¡ lze kl vesou SPACE.
RND je n hodnì znak,
P40h pos¡l  znaky naŸten‚ z portu 40h - je to t‚mØı toto§n‚ jako RND ale
jen o nØco rychlejç¡ ( hlavnØ u pomalejç¡ch PC ).


"Zobrazuj nepretrzite"
--------------------
Zobrazuje ve vìstupn¡m oknØ aktu ln¡ stav na portu, neŸek  na pı¡znak
pıijet¡ znaku.


"Zobrazuj prijate znaky"
----------------------
Zobrazuje ve vìstupn¡m oknØ pıijat‚ znaky v HEX formØ
(Ÿek  na pı¡znak pıijet¡ znaku).


"ECHO mode"
----------
Znak pıijatì na COM1 nebo COM2, je posl n zpØt. Zobrazuje se poŸet pıijatìch
znak….

                                    1.4
                                 Komunikace
                                ------------
Pro odes¡l n¡ a pıij¡m n¡ dat je mo§ne vyu§¡t nØkolika m¢d… Termin lu:

- ASCII: Znaky jsou pos¡l ny z kl vesnice pı¡mo na port - bez zobrazen¡
         a zobrazuj¡ se pouze pıijat‚ znaky.
         V tomto m¢du lze vyu§¡t ASCII buffer (viz. kap. 1.8 ) pro
         odes¡l n¡ znaku.

- I/O ASCII: Znaky jsou pos¡l ny z kl vesnice na port a zobrazov ny
             v horn¡m oknØ. Pıijat‚ znaky jsou zobrazov ny ve spodn¡m
             oknØ.
             OpØt lze vyu§¡t ASCII buffer.

- HEX: Byty jsou odes¡l ny po zad n¡ druh‚ Ÿ sti hexadecim ln¡ho Ÿ¡sla,
       Ÿ¡slo je zobrazov no v horn¡m ı dku.
       Pıijat‚ byty jsou zobrazov ny ve spodn¡m oknØ v hexadecim ln¡ formØ.
       V tomto m¢du lze vyu§¡t HEX buffer ( viz. kap. 1.8 ) pro odes¡l n¡
       znaku.

- I/O HEX: Je toto§n‚ s HEX, s t¡m rozd¡lem, §e horn¡ okno je vØtç¡
           kv…li pıehlednosti.

- ASC/HEX: Znaky jsou odes¡l ny na port a zobrazov ny v ASCII formØ
           v horn¡m oknØ, pıijat‚ byty jsou zobrazov ny ve spodn¡m oknØ
           v hex. formØ. V tomto m¢du lze vyu§¡t ASCII buffer pro odes¡l n¡
           znak….

- 2xCOM: Znaky jsou pıij¡m ny ze dvou volitelnìch port… souŸasnØ a
         zobrazov ny v oddØlenìch oknech (horn¡m a doln¡m).
         V nastaven¡ (kl vesa Ctrl+N) je mo§n‚ povolit odes¡l n¡ znak…
         z kl vesnice na port vybranì pro horn¡ okno termin lu.
         D le je zde mo§n‚ nastavit v jak‚ formØ budou znaky zobrazov ny
         a jakì bude pou§it buffer pro editaci nebo odes¡lan¡ (Ascii/Hex).
         Na odes¡l n¡ znak… z kl vesnice toto nastaven¡ nem  vliv.



                                    1.5
                         Buffery pro odes¡l n¡ znak…
                        -----------------------------
V ka§d‚m m¢du Termin lu lze pou§¡t buffer pro odes¡l n¡ znak…. Velikost
tohoto bufferu je max. 55 byt…. Buffery pro ASCII a HEX m¢dy jsou oddØlen‚,
v m¢du ASC/HEX se vyu§¡v  ASCII buffer. Editovat je lze pomoc¡ kombinace
kl vesy CTRL a kl ves F1 a§ F12 ( tak§e pro ASCII m¢dy je v dispozici
celkem 10 bufferu a ka§dì m…§e m¡t 55 byt…). Do buffer… lze tak‚ vlo§it
nØkter‚ funkŸn¡ znaky pıes kl vesu ALT (napı. ALT 13 je ENTER;
ALT 27 je ESC). Buffer se do vys¡l n¡ zaıad¡ stiskem kl vesy F1 a§ F12.
Vys¡l n¡ lze pozastavit stiskem SPACE a pıeruçit stiskem ESC.
Po vysl n¡ obsahu bufferu m…§ete pokraŸovat odes¡l n¡m znak…/byt…
z kl vesnice.






                                     2
                            Probl‚my s komunikac¡
------------------------------------------------------------------------------
 ObŸas se m…§e st t, §e na konkr‚tn¡m portu operuje nØjak  Windows¡ rutina,
 co§ se projev¡ periodickìm pıij¡m n¡m nØjak‚ho znaku (vetçinou FFh),
 bez pıipojen‚ho zaı¡zen¡ na portu...

 K odstranØn¡ tohoto probl‚mu nØkdy staŸ¡ jen znovu inicializovat port
 - inicializace prob¡h  v§dy hned po spuçtØn¡ programu, po vìbØru
 portu, nebo pıi otevıen¡ nØjak‚ho okna termin lu.
 Pokud toto nepom…§e budete nejsp¡ç muset resetovat poŸ¡taŸ tvrdìm resetem,
 nebo nejl‚pe na nØkolik sekund poŸ¡taŸ vypnout.
 Jestli§e ani pıi tomto z kroku nedoçlo k odstranØn¡ probl‚mu, je mo§n‚
 §e pou§¡v te nØjakì (DOSovskì nebo Windows¡) program pro nastaven¡ nebo
 pıesmØrov n¡ portu, nebo nØjakì rezidentn¡ program zapisuj¡c¡ na port.
 Pokud je tomu tak, a chcete pou§¡vat tento Terminal, nezbyde V m nic
 jin‚ho ne§ rezident doŸasnØ zablokovat, nebo pokud jej nepotıebujete,
 odstranit. Pokud spouçt¡te Terminal pod Windows, zkuste ho spustit
 ve vìhradn¡m ( "Ÿist‚m" ) DOSu, zde by mØl pracovat spolehlivØji.
 Jestli na konkr‚tn¡m portu st le nØco vys¡la, je take docela mo§n‚,
 §e v PromØnnìch ROM-BIOSu jsou chybnØ nastaveny adresy port….
 V tomto pı¡padØ zkuste zmØnit v nastaven¡ termin lu "Adresy portu"
 na hodnotu "Pevne" nebo spustit Terminal s parametrem /F , to zp…sob¡, §e
 adresy portu se nebudou Ÿ¡st z PromØnnìch ROM-BIOSu ale dosad¡ se
 standardnØ pou§¡van‚ adresy port….

Pıi spouçtØn¡ pod Windows se m…§e st t, ze Terminal si nastav¡ port podle
svìch parametr…, a po jeho ukonŸen¡ si s t¡mto nastaven¡m nevØd¡ nØkter‚
Windows¡ aplikace rady, v tomto pı¡padØ je nutn‚, pokud ji§ nechcete
pou§¡vat Terminal, restartovat poŸ¡taŸ, aby BIOS obnovil nastaven¡ portu.




                                     3
                    Popis pı¡m‚ho ovl d ni s‚riovìch port…:
------------------------------------------------------------------------------

Port  Popis
ßßßß  ßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßß
3f8H  Z pis: Vys¡lac¡ registr. 8 bit… znaku k odvys¡l n¡
      ¬ten¡: Pıij¡mac¡ registr. 8 bit… pıijat‚ho znaku
      Z pis: (kdy§ DLAB=1) doln¡ byte dØlitele       Baud DØlitel Û Baud DØlitel
             Po OUT 3fbH,80H tento port dr§¡ doln¡   ßßßß ßßßßßßß Û ßßßß ßßßßßßß
             byte dØlitele hodin, kterì spoleŸnØ      110    1040 Û 1200      96
             s horn¡m bytem (port 3f9H) tvoı¡         150    768  Û 2400      48
             16-bitovou hodnotu, kter  urŸuje         300    384  Û 4800      24
             pıenosovou rychlost podle tabulky        600    192  Û 9600      12
                                                     ßßßßßßßßßßßßßßßßßßßßßßßßßßß
3f9H  Z pis: Horn¡ byte dØlitele (kdy§ DLAB=1, po OUT 3fBH,80H)
      Z pis: Registr povolen¡ pıeruçen¡
      É7Â6Â5Â4Â3Â2Â1Â0»
      º0 0 0 0³ ³ ³ ³ º
      ÈÄÁÄÁÄÁÄÁËÁËÁËÁË¼ bit
               º º º ÈÍ 0: 1=povol¡ pıeruçen¡ od pıijat‚ho znaku
               º º ÈÍÍÍ 1: 1=povol¡ pıeruçen¡ po odvys¡l n¡ znaku
               º ÈÍÍÍÍÍ 2: 1=povol¡ pıeruçen¡ od stavu pıij¡mac¡ linky
               º            (error nebo break)
               ÈÍÍÍÍÍÍÍ 3: 1=povol¡ pıeruçen¡ od stavu modemu (CTS,DSR,RI,RLSD)
      ÚÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
      ³ D…le§it‚ pozn mky ³ Pokud chcete pou§¡vat pıeruçen¡, nezapomeåte
      ÀÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ na n sleduj¡c¡:
        Nastavit adresu sv‚ho obslu§n‚ho podprogramu na pı¡sluçn‚ vektory
        Naprogramovat  üadiŸ pıeruçen¡, aby od dan‚ho IRQ mohlo bìt
         generov no pıeruçen¡
        Nastavit bitovou masku do registru povolen¡ pıeruçen¡, aby se
         generovalo pıeruçen¡ od ud lost¡ jen toho typu, kterì chcete
        Nastavit bit OUT2 na 1 (viz n¡§e).
      V obslu§n‚m programu pıeruçen¡ pak mus¡te:
        Odhl sit ıadiŸi pıeruçen¡ pıeruçen¡ (magick  sekvence OUT 20H,20H)
        VyŸten¡m registru identifikace pıeruçen¡ zjistit, o jakou ud lost se
         jedn 
        Podle typu ud losti podniknout pı¡sluçnou akci (pıevz¡t pıijatì
         znak, zapsat do registru vys¡laŸe dalç¡ znak atd.).

3faH  ¬ten¡: Registr identifikace pıeruçen¡. Po pı¡chodu pıeruçen¡ vyŸtØte tento
             registr, Ÿ¡m§ zjist¡te, co pıeruçen¡ zp…sobilo.
      É7Â6Â5Â4Â3Â2Â1Â0»
      º0 0 0 0 0³   ³ º
      ÈÄÁÄÁÄÁÄÁÄÁÄÁÄÁË¼ bit
                 ÈË¼ ÈÍ 0: 1=§ dn‚ otevıen‚ pıeruçen¡ (lze pou§¡t pro polling)
                  º         0=pı¡Ÿinu pıeruçen¡ urŸuj¡ bity 2-1
                  º
                  ÈÍÍ 2-1: 00=ZmØna stavu modemu (nØkter‚ho ze sign l… CTS,DSR,
                              RI, DCD). Nuluje se Ÿten¡m stavu modemu (3feH)
                           01=registr vys¡laŸe byl vypr zdnØn.
                              Nuluje se z pisem do portu 3f8H.
                           10=pı¡jem dalç¡ho znaku byl ukonŸen.
                              Nuluje se Ÿten¡m portu pıij¡mac¡ho bufferu 3f8H
                           11=zmØna stavu pıij¡mac¡ linky: doçlo k chybØ
                              pıeteŸen¡, parity, r mce nebo pıetr§en¡.
                              (overrun, parity, framing error, break)
                              Nuluje se pıeŸten¡m stavu linky (port 3fdH).

      Pozn mka: Kombinace bìvaj¡ ve vØtçinØ technickìch dokumentac¡
                pıehozeny.

3faH  Z pis:  *** pouze 16550 *** ü¡d¡c¡ registr fronty FIFO
      (FIFO = First in, first out, tedy prvn¡ dovnitı, prvn¡ ven)
      É7Â6Â5Â4Â3Â2Â1Â0»
      º   ³0 0 0³ ³ ³ º
      ÈÄÎÄÁÄÁÄÁÄÁËÁËÁË¼ bit
        º        º º ÈÍ 0: 1=povolen¡ FIFO pıij¡maŸe a vys¡laŸe
        º        º º        0=vìmaz pıij¡mac¡ a vys¡lac¡ fronty, znakovì re§im
        º        º ÈÍÍÍ 1: 1=reset pıij¡mac¡ch FIFO registr…
        º        ÈÍÍÍÍÍ 2: 1=reset vys¡lac¡ch FIFO registr…
        ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍ 7-6: Nastaven¡ FIFO registr… 00 = 1 byte
                                                      01 = 4 byty
                                                      10 = 8 byt…
                                                      11 = 14 byt…

3fbH  ¬ten¡/Z pis: registr ı¡zen¡ linky
      É7Â6Â5Â4Â3Â2Â1Â0»
      º ³ ³ ³par³s³lenº
      ÈËÁËÁËÁÄÁÄÁËÁÄÁÄ¼ bit
       º º º ÈË¼ º ÈÍÊÍ 0-1: d‚lka slova: 00=5, 01=6, 10=7, 11=8
       º º º  º  ÈÍÍÍÍÍ 2: stop bity: 0=1, 1=2
       º º º  ÈÍÍÍÍÍÍÍÍ 3-4 parita: x0=nic, 01=Lich , 11=Sud 
       º º ÈÍÍÍÍÍÍÍÍÍÍÍ 5: zasekl  parita (nepou§ito BIOSem)
       º ÈÍÍÍÍÍÍÍÍÍÍÍÍÍ 6: povolen¡ kontroly break. 1=zaŸne vys¡lat nulu
       ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ 7: DLAB (Divisor Latch Access Bit) - pı¡stup do
                            registru dØlitele na portech 3f8H a 3f9H.
                            1=nastav pıenosovou rychlost, 0=norm ln¡ stav

3fcH  Z pis: Registr ı¡zen¡ modemu
      É7Â6Â5Â4Â3Â2Â1Â0»
      º0 0 0³ ³ ³ ³ ³ º
      ÈÄÁÄÁÄÁËÁËÁËÁËÁË¼ bit
             º º º º ÈÍ 0: 1=aktivace -DTR (-data terminal ready), 0=deaktivace
             º º º ÈÍÍÍ 1: 1=aktivace -RTS (-request to send), 0=deaktivace
             º º ÈÍÍÍÍÍ 2: 1=aktivace -OUT1 (u§ivatelskì vìstup)
             º ÈÍÍÍÍÍÍÍ 3: 1=aktivace -OUT2
             ÈÍÍÍÍÍÍÍÍÍ 4: 1=aktivace zpØtn‚ vazby pro diagnostick‚ £Ÿely
      ÚÄÄÄÄÄÄÄÄÄÄÄÄ¿
      ³  Pozn mky  ³ Bity OUT1 a OUT2 jsou z hlediska vìrobce pı¡sluçn‚ho
      ÀÄÄÄÄÄÄÄÄÄÄÄÄÙ integrovan‚ho obvodu vìvody na pouzdıe, jejich§ funkce
      je k dispozici n vrh ıi syst‚mu (prostØ 2 programem snadno ovladateln‚
      bity pro libovoln‚ upotıeben¡). Ovçem n vrh ıi IBM PC vyu§ili bit OUT2,
      kterì pıivedli na vstup povolen¡ pıeruçen¡ obvodu. Jeliko§ v klidov‚m
      stavu je v bitu OUT2 zaps na 0, je pıeruçen¡ ZAKµZµNO (blokov n¡m na
      £rovni hardware), i kdy§ spr vnØ naprogramujete registr povolen¡
      pıeruçen¡ a vçechno ostatn¡. Pokud chcete pıeruçovat, mus¡te OUT2
      nastavit na 1.  Tahle zm¡neŸka je jen v nØkterìch manu lech drobnìmi
      p¡smeny a kdyby se spoŸ¡taly vçechny hodiny, po kter‚ si vìvoj ıi
      l mali hlavy, proŸ jim to ne a ne pıeruçovat...  Moje sk¢re je 14 dn¡.

3fdH  ¬ten¡: Registr stavu linky
      É7Â6Â5Â4Â3Â2Â1Â0»
      º0³ ³ ³ ³ ³ ³ ³ º Pozn.:bity 1-4 zp…sobuj¡ pıeruçen¡, je-li povoleno(3f9H)
      ÈÄÁËÁËÁËÁËÁËÁËÁË¼ bit
         º º º º º º ÈÍ 0: 1=data ready (DR). Reset Ÿten¡m pıijat‚ho znaku
         º º º º º ÈÍÍÍ 1: 1=overrun error (OE). Pıedchoz¡ znak je ztracen
         º º º º ÈÍÍÍÍÍ 2: 1=parity error (PE). Reset Ÿten¡m statusu linky
         º º º ÈÍÍÍÍÍÍÍ 3: 1=framing error (FE). æpatnì stop bit ve znaku
         º º ÈÍÍÍÍÍÍÍÍÍ 4: 1=break indicated (BI). Pıijata trval  nula.
         º ÈÍÍÍÍÍÍÍÍÍÍÍ 5: 1=vypr zdnØn¡ registru vys¡laŸe. M…§e se vys¡lat
         ÈÍÍÍÍÍÍÍÍÍÍÍÍÍ 6: 1=vys¡laŸ je pr zdnì. ¦ dn  data nejsou zpracov v na


3feH  ¬ten¡: Registr stavu modemu
      É7Â6Â5Â4Â3Â2Â1Â0»
      º ³ ³ ³ ³ ³ ³ ³ º Pozn.:bity 0-3 zp…sobuj¡ pıeruçen¡, je-li povoleno(3f9H)
      ÈËÁËÁËÁËÁËÁËÁËÁË¼ bit
       º º º º º º º ÈÍ 0: 1=Delta Clear To Send (DCTS) - CTS zmØnil stav
       º º º º º º ÈÍÍÍ 1: 1=Delta Data Set Ready (DDSR) - DSR zmØnil stav
       º º º º º ÈÍÍÍÍÍ 2: 1=Trailing Edge Ring Indicator (TERI)
       º º º º º            vzestupn  hrana indik toru vyzv nØn¡
       º º º º ÈÍÍÍÍÍÍÍ 3: 1=Delta Data Carrier Detect (DDCD) - DCD zmØnil stav
       º º º ÈÍÍÍÍÍÍÍÍÍ 4: 1=Clear To Send (CTS) je aktivn¡
       º º ÈÍÍÍÍÍÍÍÍÍÍÍ 5: 1=Data Set Ready (DSR) je aktivn¡
       º ÈÍÍÍÍÍÍÍÍÍÍÍÍÍ 6: 1=Ring Indicator (RI) je aktivn¡
       ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ 7: 1=Data Carrier Detect (DCD) je aktivn¡






                                     4
                         Zapojen¡ konektoru RS-232C
------------------------------------------------------------------------------


        Canon 25 pin - samec           Canon 9 pin - samec
                ÚÄÄÄ¿                           ÚÄÄÄ¿
             ÚÄÄÙ 1o³                       ÚÄÄÄÙ 1o³  DCD
             ³o14   ³                  DSR  ³o6     ³
             ³    2o³  TxD                  ³     2o³  RxD
             ³o     ³                  RTS  ³o7     ³
             ³    3o³  RxD                  ³     3o³  TxD
             ³o     ³                  CTS  ³o8     ³
             ³    4o³  RTS                  ³     4o³  DTR
             ³o     ³                  RI   ³o9     ³
             ³    5o³  CTS                  ÀÄÄÄ¿ 5o³  GND
             ³o     ³                           ÀÄÄÄÙ
             ³    6o³  DSR
             ³o     ³               POZOR: Piny 2 a 3 maj¡ na 9 a 25-pino-
             ³    7o³  GND                 vìch konektorech pıehozen‚
        DTR  ³o20   ³                      vìznamy (sv d¡ to k chybØ, kter 
             ³    8o³  DCD                 se dost çpatnØ hled ).
             ³o     ³
             ³     o³
        RI   ³o22   ³
             ³     o³
             ³o     ³
             ³     o³
             ³o     ³
             ³     o³
             ³o25   ³
             ÀÄÄ¿13o³
                ÀÄÄÄÙ




                                     5
                              Protokol DISTEL
                             -----------------
Z kladn¡ slo§en¡ tohoto protokolu je n sleduj¡c¡:

           ÚÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄ¿
  Velikost ³  1 B   ³  1 B  ³  1 B   ³      [LN] B        ³  1 B   ³
  Popis    ³ Adresa ³ D‚lka ³ Pı¡kaz ³                    ³ SouŸet ³
  OznaŸen¡ ³  ADR   ³  LN   ³  CMD   ³       DATA         ³  CRC   ³
           ÀÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÙ

"Adresa" - Adresa zaı¡zen¡
"D‚lka" - D‚lka dat - zaŸ¡n  bytem CMD a konŸ¡ bytem CRC
"Pı¡kaz" - OperaŸn¡ pı¡kaz pro zaı¡zen¡
"DATA" - Pıen çen  data
"SouŸet" - Kontroln¡ souŸet byt… ADR + LN + CMD + DATA

Byte Adresa je jedniŸkov‚ parity, ostatn¡ byty jsou nulov‚ parity.




...........................................................................
